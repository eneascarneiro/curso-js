<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <title>Ejemplo : Usando array para generar contenido html</title>
</head>

<body>
  <div>
    <h1 style="color: rgb(46, 41, 42);font-size: xx-large; text-shadow: 2px 2px #585555;">Usando array para generar
      contenido html</h1>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-4"
      style="border-color: gray;  border-width: 4px;  border-style:solid;width: auto;height:auto;">
      <div style=" border-color: rgb(10, 10, 10);  border-width: 2px;  border-style:solid;width: auto;height:auto;">
        <h2>funciones del código a utilizar</h2>
        <p>
          <ul>
            <li><b>document.getElementById("TEXTO QUE HAY EN ID EN HTML").value</b> para leer contenido de las etiquetas
              html </li>
            <li><b>for ( primer valor; condicióp; incremento){}</b> para recorrer cadenas/arrays </li>
            <li><b>split, <i>variable.split(separador)</i>, </b> para convertir un texto son <b><i>"separador"</i></b>
              en un array </li>
            <li><b>document.createElement, <i>document.createElement(ETIQUETA HTML)</i>, </b> para crear que no añadir
              una etiqueta </li>
            <li><b>document.createTextNode, <i>document.createTextNode(TEXTO)</i>, </b> para crear que no añadir un nodo
              de texto </li>
            <li><b>appendChild, <i>objeto.appendChild(objetohijo)</i>, </b> para añadir un nodo, <b>objetohijo</b> a uno
              inmediatamente superior <b>objeto</b> </li>
          </ul>
        </p>

      </div>
      <div
        style="background-color: yellow;border-color: rgb(10, 10, 10);  border-width: 4px;  border-style:solid;width: auto;height:auto;">
        <h2>Modificando lista con strings</h2>
        <label>Introduce el texto </label><input type="text" id="elemento1" />
        <br>
        <input style="    margin:0 auto;  display:block;padding: 2;margin-bottom: 5px;" type="button"
          onclick="modificar_lista_cadena()" value="Añadir letras a lista" />
      </div>
      <div
        style="background-color: rgb(106, 48, 180);border-color: rgb(10, 10, 10);  border-width: 2px;  border-style:solid;width: auto;height:auto;">
        <h2>Modificando lista con arrays de texto</h2>
        <br>
        <label>Introduce el array (elementos separados por comas) </label><input type="text" id="elemento_arr" />
        <br>
        <br>
        <input style="    margin:0 auto;  display:block;padding: 2;margin-bottom: 5px;" type="button"
          onclick="modificar_lista_array()" value="Añadir array a la lista" />
      </div>
      <div
        style="background-color: rgb(189, 207, 160);border-color: rgb(10, 10, 10);  border-width: 2px;  border-style:solid;width: auto;height:auto;">
        <h2>Modificando lista con arrays de texto teniendo el cuenta el separador</h2>
        <br>
        <label>Introduce el array </label><input type="text" id="elemento_arr_sep" />
        <br>
        <label>Introduce el separador </label><input type="text" id="separador" />
        <br>
        <input style="    margin:0 auto;  display:block;padding: 2;margin-bottom: 5px;" type="button"
          onclick="modificar_lista_array_separador()" value="Añadir array a la lista" />
      </div>
      <div
        style="background-color: rgb(11, 70, 45);border-color: rgb(10, 10, 10);  border-width: 2px;  border-style:solid;width: auto;height:auto;">
        <h2 style="color:azure">Modificando lista con arrays de numeros y operariones</h2>
        <h3 style="color:azure">Añadimos a la lisa el valor de los elementos del array sumados a la posición que ocupan
        </h3>
        <br>
        <label style="color:azure">Introduce el array (elementos separados por comas) </label><input type="text"
          id="elemento_arr_num" />
        <br>
        <br>
        <input style="    margin:0 auto;  display:block;padding: 2;margin-bottom: 5px;" type="button"
          onclick="modificar_lista_array_num()" value="Añadir array a la lista con operaciones" />
      </div>
      <div
        style="background-color: rgb(98, 107, 12);border-color: rgb(10, 10, 10);  border-width: 2px;  border-style:solid;width: auto;height:auto;">
        <h2 style="color:azure">Modificando/creando contenido de un div con un json</h2>
        <h3 style="color:azure">Añadimos el texto del json
        </h3>
        <br>
        <!--label style="color:azure">Introduce el json </label><input type="text"
          id="elemento_json" /-->
        <br>
        <br>
        <input style="    margin:0 auto;  display:block;padding: 2;margin-bottom: 5px;" type="button"
          onclick="modificar_div_con_json()" value="Añadir contenido al div" />
      </div>
    </div>
    <div class="col-xs-12 col-sm-4"
      style="border-color: gray;  border-width: 4px;  border-style:solid;width: auto;height:auto;">
      <div style="border-color: black;  border-width: 4px;  border-style:solid;width: auto;height:auto;overflow:scroll;max-height: 800px;"> 
        <h3>Aqui ponemos la lista</h3>
        <ul id="milista">
          <h2 id="cabeceralista">Lista antes de ser modificada</h2>
        </ul>
      </div>
      <div>

      </div>
    </div>
    <div class="col-xs-12 col-sm-4"
    style="border-color: gray;  border-width: 4px;  border-style:solid;width: auto;height:auto;">
      <h2> Rellenando un div con objetos div dentro </h2>
      <div id = "personDiv" style="border-color: black;  border-width: 4px;  border-style:solid;width: auto;height:auto;overflow:scroll;max-height: 800px;"> 
          <h3>Aqui ponemos los div</h3>
          
      </div>
    </div>
   </div>



  <script>
    function modificar_lista_cadena(){
      //Leemos el texto usar document.getElementById
      miPalabra = document.getElementById("elemento1").value
      //Busco la caja en la que añadir usar document.getElementById
      micaja = document.getElementById("milista")
      for(let posicion = 0;posicion < miPalabra.length; posicion++ ){
        //Creamos la etiqueta li, crear no significa añadir
        miLista = document.createElement("li")
        //Añado la letra a mi lista
        letra = document.createTextNode(miPalabra[posicion])
        miLista.appendChild(letra)
        //Añadimos la lista a la caja
        micaja.appendChild(miLista)
      }
      document.getElementById("cabeceralista").innerHTML = "Lista modificada añadiendo letras"

    }
    function modificar_lista_array(){
      //Leemos el texto usar document.getElementById
      textoArray = document.getElementById("elemento_arr").value
      //Obtenemps el array usar split
      miArray =  textoArray.split(",")
      //Busco la caja en la que añadir usar document.getElementById
      micaja = document.getElementById("milista")
      for(let posicion = 0;posicion < miArray.length; posicion++ ){
        //Creamos la etiqueta li, crear no significa añadir
        miLista = document.createElement("li")
        //Añado el elemento  a mi lista
        elementoArray = document.createTextNode(miArray[posicion])
        miLista.appendChild(elementoArray)
        //Añadimos la lista a la caja
        micaja.appendChild(miLista)
      }
      document.getElementById("cabeceralista").innerHTML = "Lista modificada añadiendo elementos del array"
    }
    function modificar_lista_array_separador(){
      //Leemos el texto usar document.getElementById
      textoArray = document.getElementById("elemento_arr_sep").value
      //Leemos el separador usar document.getElementById
      sep = document.getElementById("separador").value
      //Obtenemps el array usar split
      miArray =  textoArray.split(sep)
      //Busco la caja en la que añadir usar document.getElementById
      micaja = document.getElementById("milista")
      for(let posicion = 0;posicion < miArray.length; posicion++ ){
        //Creamos la etiqueta li, crear no significa añadir
        miLista = document.createElement("li")
        //Añado el elemento  a mi lista
        elementoArray = document.createTextNode(miArray[posicion])
        miLista.appendChild(elementoArray)
        //Añadimos la lista a la caja
        micaja.appendChild(miLista)
      }
      document.getElementById("cabeceralista").innerHTML = "Lista modificada añadiendo elementos del array"
    }
    function modificar_lista_array_num(){
      //Leemos el texto usar document.getElementById
      textoArray = document.getElementById("elemento_arr_num").value
      //Obtenemps el array usar split
      miArray =  textoArray.split(",")
      //Busco la caja en la que añadir usar document.getElementById
      micaja = document.getElementById("milista")
      for(let posicion = 0;posicion < miArray.length; posicion++ ){
        //Creamos la etiqueta li, crear no significa añadir
        miLista = document.createElement("li")
        //Añado el elemento  a mi lista
        resultado_operacion =  parseFloat(miArray[posicion]) + posicion
        
        elementoArray = document.createTextNode(resultado_operacion)
        miLista.appendChild(elementoArray)
        //Añadimos la lista a la caja
        micaja.appendChild(miLista)
      }
      document.getElementById("cabeceralista").innerHTML = "Lista modificada añadiendo elementos del array con operacion"
    }
    function modificar_div_con_json(){
      //Definicion de un array complejo (json)
      /*
            JSON (acrónimo de Object Notation, 'notación de objeto de JavaScript') es un formato de texto sencillo para el intercambio de datos. 
            Se trata de un subconjunto de la notación literal de objetos de JavaScript, aunque, debido a su amplia adopción como alternativa a XML, se considera (año 2019) un formato independiente del lenguaje.

            Una de las supuestas ventajas de JSON es que en el 2022 ya no es desarrollador sobre XML como formato de intercambio de datos es que resulta mucho más sencillo escribir un analizador sintáctico (parser) para él. 
            En JavaScript, un texto JSON se puede analizar fácilmente usando la función eval(), algo que (debido a la ubicuidad de JavaScript en casi cualquier navegador web) ha sido fundamental para que haya sido aceptado 
            por parte de la comunidad de desarrolladores AJAX.

            En la práctica, los argumentos a favor de la facilidad de desarrollo de analizadores o de sus rendimientos son poco relevantes, debido a las cuestiones de seguridad que plantea el uso de eval() y
             el auge del procesamiento nativo de XML incorporado en los navegadores modernos. Por esa razón, JSON se emplea habitualmente en entornos donde el tamaño del flujo de datos entre cliente y 
             servidor es de vital importancia (de aquí su uso por Yahoo!, Google, Mozilla, etc, que atienden a millones de usuarios) cuando la fuente de datos es explícitamente de fiar y donde no es importante
              el hecho de no disponer de procesamiento XSLT para manipular los datos en el cliente.

            Si bien se tiende a considerar JSON como una alternativa a XML, lo cierto es que no es infrecuente el uso de JSON y XML en la misma aplicación; así, una aplicación de cliente que integra datos de Google Maps 
            con datos meteorológicos en SOAP (Simple Object Access Protocol) necesita hacer uso de ambos formatos.

            En diciembre de 2005, Yahoo! comenzó a dar soporte opcional de JSON en algunos de sus servicios web.1​
      */
      var arrPersonas =[
      {
          nombre: 'Miguel',
          apellido: 'Martinez',
          profesion: 'Diseñador gráfico',
          email: 'mail@mail.com',
          edad: 20,
          musica: ['rock', 'metal', 'grunge'],
          hogar: {
              ciudad: {
                      nombreCiudad: 'Guadalajara',
                      dirección: 'Via Luis 15',
                      numero: 10
                      },
              pais: 'Mexico'
          },
          nacimiento: (edad) => {
              return new Date().getFullYear() - edad;
          }
      },
          {
              nombre: 'Luisa',
              apellido: 'Martinez',
              profesion: 'Diseñador gráfico',
              email: 'mail@mail.com',
              edad: 20,
              musica: ['rock', 'metal', 'grunge'],
              hogar: {
                  ciudad: {
                          nombreCiudad: 'Guadalajara',
                          dirección: 'Via Luis 15',
                          numero: 10
                          },
                  pais: 'Mexico'
              },
              nacimiento: (edad) => {
                  return new Date().getFullYear() - edad;
              }
          },
              {
                  nombre: 'Norberto',
                  apellido: 'Martinez',
                  profesion: 'Diseñador gráfico',
                  email: 'mail@mail.com',
                  edad: 20,
                  musica: ['rock', 'metal', 'grunge'],
                  hogar: {
                      ciudad: {
                              nombreCiudad: 'Guadalajara',
                              dirección: 'Via Luis 15',
                              numero: 10
                              },
                      pais: 'Mexico'
                  },
                  nacimiento: (edad) => {
                      return new Date().getFullYear() - edad;
                  }
              }
        ]
        //Busco la caja en la que añadir usar document.getElementById
        micaja = document.getElementById("personDiv")
        arrPersonas.forEach((persona, index) => {
          console.log("recorriendo el json")
          //Un salto de linea también es un nodo
          salto_de_linea =  document.createElement("br")
          //Gereno el elemento para el nombre
          //Por cada campo añado un label y una caja de texto
          label_a_insertar = document.createElement("label")
          
          //Creamos atributos para el label
          label_a_insertar.setAttribute("style", "font-size: 20px;font-weight: 700;color: #1c87c9;border-color: black;  border-width: 4px;  border-style:solid");
          
          label_text_node = document.createTextNode("nombre")
          //Añado el texto al label
          label_a_insertar.appendChild(label_text_node)

          
          //Añado la caja de texto
          caja_de_texto = document.createElement("textarea")
          textarea_text_node = document.createTextNode(persona.nombre )
          caja_de_texto.appendChild(textarea_text_node)
          //Insert en html
          micaja.appendChild(label_a_insertar)
          micaja.appendChild(caja_de_texto)
          //Gereno el elemento para el nombreCiudad
          //Por cada campo añado un label y una caja de texto
          label_a_insertar1 = document.createElement("label")
          
          //Creamos atributos para el label
          label_a_insertar1.setAttribute("style", "font-size: 20px;font-weight: 700;color: #1c87c9;border-color: black;  border-width: 4px;  border-style:solid");
          
          label_text_node = document.createTextNode("nombreCiudad")
          //Añado el texto al label
          label_a_insertar1.appendChild(label_text_node)
          //Añado el label a mi caja
          micaja.appendChild(label_a_insertar1)
          
          //Añado la caja de texto
          caja_de_texto1 = document.createElement("textarea")
          textarea_text_node = document.createTextNode(persona.hogar.ciudad.dirección )
          caja_de_texto1.appendChild(textarea_text_node)
          //Insertamos en html
          micaja.appendChild(label_a_insertar1)
          micaja.appendChild(caja_de_texto1)
          micaja.appendChild(salto_de_linea)

        })
      }


  </script>
</body>
</html>